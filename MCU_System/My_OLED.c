#include "My_OLED.h"  
#include "delay.h"

//----------------------------------------------------------------------//
//定义字模
//----------------------------------------------------------------------//
const ASCII_MAT AsciiMat[] =         //英文字符的字模数组,最后一个必须为空格  
{        
	{'0',{0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00}},//0
	{'1',{0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00}},//1
	{'2',{0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00}},//2
	{'3',{0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00}},//3
	{'4',{0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00}},//4
	{'5',{0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00}},//5
	{'6',{0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00}},//6
	{'7',{0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00}},//7
	{'8',{0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00}},//8
	{'9',{0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00}},//9	
	{'a',{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20}},//10
	{'b',{0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00}},//11
	{'c',{0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00}},//12
	{'d',{0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20}},//13
	{'e',{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00}},//14
	{'f',{0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00}},//15
	{'g',{0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00}},//16
	{'h',{0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20}},//17
	{'i',{0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00}},//18
	{'j',{0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00}},//19
	{'k',{0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00}},//20
	{'l',{0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00}},//21
	{'m',{0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F}},//22
	{'n',{0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20}},//23
	{'o',{0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00}},//24
	{'p',{0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00}},//25
	{'q',{0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80}},//26
	{'r',{0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00}},//27
	{'s',{0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00}},//28
	{'t',{0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00}},//29
	{'u',{0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20}},//30
	{'v',{0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00}},//31
	{'w',{0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00}},//32
	{'x',{0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00}},//33
	{'y',{0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00}},//34
	{'z',{0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00}},//35
	{'A',{0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20}},//36
	{'B',{0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00}},//37
	{'C',{0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00}},//38
	{'D',{0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00}},//39
	{'E',{0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00}},//40
	{'F',{0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00}},//41
	{'G',{0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00}},//42
	{'H',{0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20}},//43
	{'I',{0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00}},//44
	{'J',{0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00}},//45
	{'K',{0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00}},//46
	{'L',{0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00}},//47
	{'M',{0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00}},//48
	{'N',{0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00}},//49
	{'O',{0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00}},//50
	{'P',{0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00}},//51
	{'Q',{0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00}},//52
	{'R',{0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20}},//53
	{'S',{0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00}},//54
	{'T',{0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00}},//55
	{'U',{0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00}},//56
	{'V',{0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00}},//57
	{'W',{0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00}},//58
	{'X',{0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20}},//59
	{'Y',{0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00}},//60
	{'Z',{0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00}},//61
	{'~',{0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},//62
	{'!',{0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00}},//63
	{'@',{0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00}},//64
	{'#',{0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00}},//65
	{'$',{0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00}},//66
	{'%',{0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00}},//67
	{'^',{0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},//68
	{'&',{0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10}},//69
	{'*',{0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00}},//70
	{'(',{0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00}},//71
	{')',{0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00}},//72
	{'_',{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80}},//73
	{'+',{0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00}},//74
	{'`',{0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},//75
	{'-',{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01}},//76
	{'=',{0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00}},//77
	{'[',{0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00}},//78
	{']',{0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00}},//79
	{'\\',{0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00}},//80
	{'{',{0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40}},//81
	{'}',{0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00}},//82
	{'|',{0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00}},//83
	{';',{0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00}},//84
	{'\'',{0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},//85
	{':',{0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00}},//86
	{'"',{0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},//87
	{'<',{0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00}},//88
	{'>',{0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00}},//89
	{'?',{0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00}},//90
	{',',{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00}},//91
	{'.',{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00}},//92
	{'/',{0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00}},//93
  {' ',{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}} //94
};

const GB2312_MAT Gb2312Mat[] =     //中文字符的字模数组，最后一个必须为空格
{
	{"！",{0x00,0x00,0x00,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"…",{0x00,0xC0,0xC0,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"（",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,0x00,0x00}},  
	{"）",{0x00,0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"｛",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x3E,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x3E,0x40,0x00,0x00}},  
	{"｝",{0x00,0x00,0x01,0x3E,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x3E,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"【",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFE,0xFE,0x3E,0x0E,0x06,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x7F,0x7C,0x70,0x60,0x40,0x00,0x00}},  
	{"】",{0x00,0x00,0x02,0x06,0x0E,0x3E,0xFE,0xFE,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x60,0x70,0x7C,0x7F,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"、",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x08,0x18,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"‘",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x34,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"’",{0x00,0x00,0x20,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"；",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x5B,0x3B,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"：",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x36,0x36,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"“",{0x00,0x00,0x00,0x00,0x00,0x00,0x38,0x34,0x02,0x00,0x38,0x34,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"”",{0x00,0x00,0x20,0x16,0x0E,0x00,0x20,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"，",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x58,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"。",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x24,0x24,0x18,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"？",{0x00,0x00,0x38,0x34,0x02,0x82,0xC2,0x7C,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x37,0x37,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}},  
	{"《",{0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x90,0x48,0x24,0x12,0x09,0x04,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x04,0x09,0x12,0x24,0x48,0x10,0x20,0x00,0x00}},  
	{"》",{0x00,0x00,0x02,0x04,0x09,0x12,0x24,0x48,0x90,0x20,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x10,0x48,0x24,0x12,0x09,0x04,0x02,0x01,0x00,0x00,0x00,0x00,0x00}},
	{"  ",{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00}} 
};

const char iphone6[] =       //图片
{
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,192,224,240,248,252,252,254,254,126,14,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,128,192,192,192,192,192,192,192,192,192,192,192,128,128,0,0,0,32,62,63,63,31,159,143,199,195,193,192,192,192,192,192,192,192,192,192,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,128,224,248,252,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127,30,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,240,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,63,7,1,0,0,0,176,176,0,0,240,240,48,48,224,224,0,240,240,240,128,128,128,0,0,0,128,128,128,128,128,0,0,128,128,0,128,128,128,0,0,0,128,128,128,128,0,0,192,224,96,48,48,32,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,248,192,0,0,0,0,63,63,0,0,63,63,6,6,3,3,0,63,63,63,1,1,63,63,0,31,31,49,49,49,31,15,0,63,63,1,1,63,63,26,4,31,63,52,53,55,7,0,31,63,49,49,63,31,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,15,127,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,252,248,240,224,224,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,7,31,127,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,127,63,15,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
	0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,7,7,15,31,31,63,63,63,63,63,63,63,63,31,31,31,15,15,15,15,15,15,31,31,31,63,63,63,127,127,127,63,63,63,31,31,15,7,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};

char oled_content[64];     		//16*4，对应到OLED相应位置显示的字符内容

//私有成员函数定义：

//-----------------------------------------------------------------
//函数名称：oled_wcmd
//功能概要：向OLED写入一条指令
//函数返回：void
//参数说明：cmd：待写入的命令，占一个字节
//    举例：oled_wcmd(0xe2); 
//-----------------------------------------------------------------
void oled_wcmd(uint8_t cmd)
{
	uint8_t i=8;
	OLED_DC_CLR;
	for(i=0; i<8; i++)
	{
		STM32_Delay_us(1);
		OLED_SCL_CLR;
		STM32_Delay_us(1);
		if(cmd & 0x80)
		{
			OLED_SDA_SET;
		}
		else
		{
			OLED_SDA_CLR;
		}
		STM32_Delay_us(1);
		OLED_SCL_SET;
		STM32_Delay_us(1);
		cmd <<= 1;
	}
}

//-----------------------------------------------------------------
//函数名称：oled_wdat
//功能概要：向OLED写入一个数据
//函数返回：void
//参数说明：dat：待写入的数据，占一个字节
//    举例：oled_wdat(0x00); 
//-----------------------------------------------------------------
void oled_wdat(uint8_t dat)
{
	uint8_t i=8;
	OLED_DC_SET;
	for(i=0; i<8; i++)
	{
		STM32_Delay_us(1);
		OLED_SCL_CLR;
		STM32_Delay_us(1);
		if(dat & 0x80)
		{
			OLED_SDA_SET;
		}
		else
		{
			OLED_SDA_CLR;
		}
		STM32_Delay_us(1);
		OLED_SCL_SET;
		STM32_Delay_us(1);
		dat <<= 1;
	}
}

//-----------------------------------------------------------------
//函数名称：oled_ascii
//功能概要：在OLED指定位置显示一个英文字符 ,调用模块: oled_wdat; oled_wcmd;
//函数返回：void
//参数说明：location：显示的位置  
//             ascii：该显示字符的Ascii码
//		     inverse：是否需要反色 1为反色  
//    举例：oled_ascii( 0x31 , '$' , 0 ); 
//-----------------------------------------------------------------
void oled_ascii(uint8_t location, char ascii, uint8_t inverse) 
{
	uint8_t i,j;
	uint8_t row,column;
	uint8_t index = 0;
	oled_content[location] = ascii;
	for(i=0; ; i++) 
	{  
		//通过顺序查找，从结构体数组中找到对应字模的下标，如果没有这个字模，则显示空格 
		if((ascii == AsciiMat[i].index) || (AsciiMat[i].index == ' ')) 
		{ 
			index = i;
			break;	
		}
	}  
	row = (location>>4)<<1;		         //计算该显示位置的行，一共4行，对应原来8行的偶数行  
	column = (location&0x0f)<<3;         //计算该显示位置的列  
	oled_wcmd(0xb0+row);  				 //0xb0+行数  
	oled_wcmd(0x10+((column&0xf0)>>4));  //0x10+列数的高4位  
	oled_wcmd(0x00+(column&0x0f));  	 //0x10+列数的列4位  
	for(j=0; j<8; j++) 
	{
		if(inverse == 1) 
		{	
			//是否需要反色  
			oled_wdat(~(AsciiMat[index].Mat[j])); //写数据，这里写的是字模的上半身  
		} 
		else 
		{
			oled_wdat(AsciiMat[index].Mat[j]);	  //写数据，这里写的是字模的上半身  
		}
	}
	oled_wcmd(0xb0+row+1);  			          //0xb0+行数  
	oled_wcmd(0x10+((column&0xf0)>>4));           //0x10+列数的高4位  
	oled_wcmd(0x00+(column&0x0f));  	          //0x10+列数的列4位  
	for(j=0; j<8; j++) 
	{ 
		if(inverse == 1) 
		{	
			//是否需要反色  
			oled_wdat(~(AsciiMat[index].Mat[8+j])); //写数据，这里写的是字模的上半身  
		} 
		else 
		{
			oled_wdat(AsciiMat[index].Mat[8+j]);	//写数据，这里写的是字模的上半身  
		}
	} 
}

//-----------------------------------------------------------------
//函数名称：oled_gb2312
//功能概要：在OLED指定位置显示一个中文字符 ,调用模块: oled_wdat; oled_wcmd;
//函数返回：void
//参数说明：location：显示的位置  
//            gb2312：指向该显示中文字符编码第一个字节的指针，实际使用时也可以是中文字符串
// 		     inverse：是否需要反色 1为反色  
//    举例：oled_gb2312( 0x31 , content ); 其中content为指向某个中文字符编码第一个字节的指针
//          oled_gb2312( 0x31 , "好" , 0 ); 
//-----------------------------------------------------------------
void oled_gb2312(uint8_t location, char *gb2312, uint8_t inverse) 
{
	uint8_t i,j;
	uint8_t row,column;
	uint8_t index = 0;
	oled_content[location] = *gb2312;
	oled_content[location+1] = *(gb2312+1);
	for(i=0 ; ; i++) 
	{  
		// 通过顺序查找，从结构体数组中找到对应字模的下标，如果没有这个字模，则显示空格  
		if(((*gb2312==Gb2312Mat[i].index[0])&&(*(gb2312+1)==Gb2312Mat[i].index[1]))||((Gb2312Mat[i].index[0]==' ')&&(Gb2312Mat[i].index[1]==' '))) 
		{
			index = i;
			break;	
		}
	}
	row = (location>>4)<<1;			      //计算该显示位置的行，一共4行，对应原来8行的偶数行  
	column = (location&0x0f)<<3;	      //计算该显示位置的列  
	oled_wcmd(0xb0+row);  				  //0xb0+行数  
	oled_wcmd(0x10+((column&0xf0)>>4));   //0x10+列数的高4位  
	oled_wcmd(0x00+(column&0x0f));  	  //0x10+列数的列4位  
	for(j=0; j<16; j++) 
	{ 
		if(inverse==1 ) 
		{ 
			oled_wdat(~(Gb2312Mat[index].Mat[j]));   //写数据，这里写的是字模的上半身  
		} 
		else 
		{
			oled_wdat(Gb2312Mat[index].Mat[j]);      //写数据，这里写的是字模的上半身  
		} 
	}
	oled_wcmd(0xb0+row+1);  			     		 //0xb0+行数  
	oled_wcmd(0x10+((column&0xf0)>>4));      		 //0x10+列数的高4位  
	oled_wcmd(0x00+(column&0x0f));  	     		 //0x10+列数的列4位  
	for(j=0; j<16; j++) 
	{
		if(inverse == 1) 
		{  
			oled_wdat(~(Gb2312Mat[index].Mat[16+j])); //写数据，这里写的是字模的下半身  
		} 
		else 
		{
			oled_wdat(Gb2312Mat[index].Mat[16+j]);    //写数据，这里写的是字模的上半身  
		}
	}   
}


//公有成员函数定义：

//-----------------------------------------------------------------
//函数名称：oled_clear_screen
//功能概要：OLED清屏,调用模块: oled_wdat; oled_wcmd;
//函数返回：void
//参数说明：无
//-----------------------------------------------------------------
void oled_clear_screen(void) 
{
    uint8_t i,j;  
    for(i=0; i<8; i++) 
		{  
				oled_wcmd(0xb0+i);      //写第i行  
				oled_wcmd(0x10);        
				oled_wcmd(0x00);        //从第一列开始  
				for(j=0; j<128; j++) 
				{  
						oled_wdat(0x00);    //写入0值  
				}  
    }
}

//-----------------------------------------------------------------
//函数名称：oled_display_num
//功能概要：OLED显示一个数值，调用模块: oled_ascii;
//函数返回：void
//参数说明：location：开始显示的位置
//           number：待显示数字 
//           length：显示位数 
//		           pm：是否需要显示符号 1:是    2：否 
//		      inverse：是否需要反色 1为反色 
//    举例：oled_display_num(0x31,23,2,0,0); 第三行第一列显示23
//    注意：时间：每显示一个位，需要0.8ms！！！
//-----------------------------------------------------------------
void oled_display_num(uint8_t location, int16_t number, uint8_t length, uint8_t pm, uint8_t inverse) 
{
		uint16_t rate=1;
		uint16_t temp=0;
		uint8_t flag=0;
		if (pm == 1) 
		{
				if (number < 0) 
				{
						oled_ascii(location, '-', inverse );
						temp = (uint16_t)(-number);
				} 
				else 
				{
						oled_ascii(location, ' ', inverse );
						temp = (uint16_t)(number);
				}
				length--;
				location = location + length;																	
		} 
		else 
		{
				temp = (uint16_t)number;
				location = location + length - 1;
		}
		while(length--) 
		{
				if (rate < 2000) 
				{
						oled_ascii(location--, 0x30 + (temp % (rate * 10)) / rate, inverse);
						rate *= 10;
				} 
				else if (!flag) 
				{
						oled_ascii(location--, 0x30 + temp / rate, inverse);
						flag = 1;
				} 
				else 
				{
						oled_ascii(location--, ' ', inverse);
				}
		}
}

void oled_display_float(uint8_t location, float number, uint8_t length, uint8_t pm, uint8_t inverse)
{
	
}

//-----------------------------------------------------------------
//函数名称：oled_display_str
//功能概要：OLED显示一个字符串(可以为汉字),调用模块: oled_ascii; oled_gb2312
//函数返回：void
//参数说明：location：开始显示的位置，用16进制表示，高4位表示行，低4位表示列，最高位为1时关背光 
//            string：要显示的内容，以字符串给出 
//            length：要显示的内容的字节长度，汉字算两个字节
//		     inverse：是否需要反色 1为反色 
//    举例：oled_display_str(0x31,"china!",7,0); 
//-----------------------------------------------------------------
void oled_display_str(uint8_t location, char *string, uint8_t length, uint8_t inverse) 
{
	uint8_t i;
// 	if(location & 0x80)
//	{      
		//如果location的最高位不为0，则关背光灯 
//		LEDA = 1;
//      location &= ~0x80;
//  } 
//	else 
//	{	
		//否则，开背光灯  
//      LEDA = 0;
//  } 
	
	if(length > 0)
	{
		for(i=0; i<length; ) 
		{
			if(location > 0x3f)
			{	 
				//超出显示的范围  
				break;
			}
			if(*string < 0xa0) 
			{	
				//中文字符的机内码都大于0xa0  
				oled_ascii(location, *string, inverse);  //显示英文字符     
				location++;					  			 //位置+1  
				string++;						 			 //指针+1  
				i++;						 			 //计数+1  
			} 
			else 
			{
				if((location&0x0f) == 0x0f) 
				{	   
					//最后一列不够显示一个汉字
					oled_ascii(location, ' ', inverse); //则先填一个空格，达到换行的目的  
					location++;					  			 //位置+1,直接换行
				} 
				else 
				{
					oled_gb2312(location, string, inverse);  //显示中文文字符 
					location++;					  
					location++;					  			 //位置+2  
					string++;						   
					string++;						 			 //指针+2  
					i++; 
					i++;						 			 //计数+2  
				}
			}
		}
	}
	else
	{
		length = 1;
		while(*string != '\n')
		{
			string++;
			length++;
		}
		string -= length;
		for(i=0; i<length; ) 
		{
			if(location > 0x3f) 
			{	 
				//超出显示的范围 
				break;
			}
			if(*string < 0xa0) 
			{	
				//中文字符的机内码都大于0xa0  
				oled_ascii(location, *string, inverse);  	 //显示英文字符      
				location++;					  			 //位置+1  
				string++;						 			 //指针+1 
				i++;						  		   	 //计数+1  
			} 
			else 
			{
				if((location & 0x0f) == 0x0f) 
				{	   
					//最后一列不够显示一个汉字  
					oled_ascii(location, ' ', inverse); 	 //则先填一个空格，达到换行的目的  
					location++;					  			 //位置+1,直接换行  
				} 
				else 
				{
					oled_gb2312(location, string, inverse);  	 //显示中文文字符  
					location++;					  
					location++;								 //位置+2  
					string++;						   
					string++;						 			 //指针+2  
					i++; 
					i++;						 			 //计数+2  
				}
			}
		}
	}
}

//-----------------------------------------------------------------
//函数名称：oled_display_fig
//功能概要：OLED显示一幅图像,调用模块: oled_wcmd;
//函数返回：void
//参数说明：无
//    举例：oled_display_fig()；
//-----------------------------------------------------------------
void oled_display_fig(void)
{
	static uint8_t i,j;
	for (i=0;i<8;i++)
	{
		oled_wcmd(0xb0+i);      //0xb0+行数 
		oled_wcmd(0x10+0x00);   //0x10+列数的高4位  
		oled_wcmd(0x00+0x00);   //0x10+列数的列4位 
		for(j=0; j<128; j++)
		oled_wdat(iphone6[128*i+j]);//"iphone6"为全局只读变量!!!
	}
}

//-----------------------------------------------------------------
//函数名称：oled_display_inv
//功能概要：将OLED指定连续位置反色显示,oled_ascii; oled_gb2312
//函数返回：void
//参数说明：location：反色起始位置  
//            length：反色区域的长度 
//           inverse：是否需要反色 1为反色 
//    举例：oled_display_inv(0x31,4,1);  
//-----------------------------------------------------------------
void oled_display_inv(uint8_t location, uint8_t length, uint8_t inverse) 
{
	static uint8_t i;
    char *p = &oled_content[location];
	for (i=0; i<length; ) 
	{
		if(*p < 0xa0) 
		{	
			//中文字符的机内码都大于0xa0  
			oled_ascii(location, *p, inverse); //显示英文字符    
			location++;					       //位置+1  
			p++;						       //指针+1  
			i++;						       //计数+1  
		} 
		else 
		{
			oled_gb2312(location, p, inverse);  //显示中文文字符 
			location++;					  
			location++;					        //位置+2  
			p++;						   
			p++;						        //指针+2  
			i++; 
			i++;						        //计数+2  
		}
	}	
}

//-----------------------------------------------------------------
//函数名称：My_OLED_init
//功能概要：OLED初始化，调用模块: oled_wdat; oled_wcmd
//函数返回：void
//参数说明：无
//-----------------------------------------------------------------
void My_OLED_init(void)
 {	
	//配置GPIO
	GPIO_InitTypeDef GPIO_InitStructure;
	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC, ENABLE);//GPIOE时钟使能 
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_9| GPIO_Pin_8;//SCL,SDA: PC9,PC8
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
	GPIO_Init(GPIOC, &GPIO_InitStructure); 
	 
	RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOC, ENABLE);//GPIOB时钟使能 
	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6| GPIO_Pin_7;//RST,DC: PC7,PC6
	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_OUT;
	GPIO_InitStructure.GPIO_OType = GPIO_OType_PP;
	GPIO_InitStructure.GPIO_PuPd = GPIO_PuPd_NOPULL;
	GPIO_Init(GPIOC, &GPIO_InitStructure); 
	
  //初始化oled	 
	OLED_SCL_SET;      
	OLED_RST_CLR;
	STM32_Delay_ms(10);
	OLED_RST_SET;
	OLED_DC_CLR;
	oled_wcmd(0xAE);  //display off
	oled_wcmd(0x20);	//Set Memory Addressing Mode	
	oled_wcmd(0x10);	//00,Horizontal Addressing Mode;01,Vertical Addressing Mode;10,Page Addressing Mode (RESET);11,Invalid
	oled_wcmd(0xb0);	//Set Page Start Address for Page Addressing Mode,0-7
	oled_wcmd(0xc8);	//Set COM Output Scan Direction
	oled_wcmd(0x00);	//---set low column address
	oled_wcmd(0x10);	//---set high column address
	oled_wcmd(0x40);	//--set start line address
	oled_wcmd(0x81);	//--set contrast control register
	oled_wcmd(0x7f);
	oled_wcmd(0xa1);	//--set segment re-map 0 to 127
	oled_wcmd(0xa6);	//--set normal display
	oled_wcmd(0xa8);	//--set multiplex ratio(1 to 64)
	oled_wcmd(0x3F);	//
	oled_wcmd(0xa4);	//0xa4,Output follows RAM content;0xa5,Output ignores RAM content
	oled_wcmd(0xd3);	//-set display offset
	oled_wcmd(0x00);	//-not offset
	oled_wcmd(0xd5);	//--set display clock divide ratio/oscillator frequency
	oled_wcmd(0xf0);	//--set divide ratio
	oled_wcmd(0xd9);	//--set pre-charge period
	oled_wcmd(0x22); 	//
	oled_wcmd(0xda);	//--set com pins hardware configuration
	oled_wcmd(0x12);
	oled_wcmd(0xdb);	//--set vcomh
	oled_wcmd(0x20);	//0x20,0.77xVcc
	oled_wcmd(0x8d);	//--set DC-DC enable
	oled_wcmd(0x14);	//
	oled_wcmd(0xaf);	//--turn on OLED panel 
	
	oled_display_fig();
	STM32_Delay_ms(500);
	oled_clear_screen();
	oled_display_str(0x05,"enice",7,0);	
} 

